import{u as f,b as g,r as o,j as a,L as x,y as i}from"./index-CDtZe3id.js";import{D as y}from"./DocumentationForm-Cql_aSEj.js";import{d as c}from"./documentationService-D56WLKkg.js";import"./index.esm-CYe7NKTW.js";import"./CustomButton-BHk0TsfB.js";import"./subjectService-FmAgODbn.js";import"./asignaturaService-DmxOcZI9.js";import"./nivelService-D0XCMSzS.js";import"./coverService-mfvIq_ty.js";const _=()=>{const e=f(),{id:r}=g(),[s,m]=o.useState(null),[u,d]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const t=await c.getById(r),p={...t,subject:t.subject?._id,asignatura:t.asignatura?._id,nivel:t.nivel?._id};m(p)}catch{i.error("No se pudo cargar el documento para editar."),e("/admin/documentation")}finally{d(!1)}})()},[r,e]);const l=async n=>{try{await c.update(r,n),i.success("Documento actualizado exitosamente."),e("/admin/documentation")}catch(t){i.error(t.response?.data?.message||"Error al actualizar el documento."),console.error("Error updating documentation:",t)}};return u?a.jsx("div",{className:"pt-20 flex justify-center",children:a.jsx(x,{})}):a.jsx("div",{className:"mt-28 p-8 min-h-[calc(100vh-80px)] bg-bg-primary text-text-primary",children:s&&a.jsx(y,{onSubmit:l,initialData:s,isEditing:!0})})};export{_ as default};
