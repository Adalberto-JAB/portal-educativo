import{r as i,j as e,L as g,n as m,w as h,o as b,p as v,x as N,F as y,f,z as C,B as w}from"./index-CDtZe3id.js";import{c as S}from"./conferenceService-Bcx88bEU.js";const p="https://portal-educativo-jab.onrender.com/api",k=({conference:s,onClose:a})=>{if(!s)return null;const l=s.cover?`${p}/covers/${s.cover._id}`:"https://via.placeholder.com/400x200",t=({icon:r,label:c,children:o})=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"mr-3 text-accent-primary mt-1 flex-shrink-0",children:r}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("strong",{className:"text-text-primary",children:[c,":"]}),e.jsx("span",{className:"ml-2 text-text-secondary",children:o})]})]});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50 p-4",onClick:a,children:e.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-2xl max-w-2xl w-full overflow-hidden",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:s.title,className:"w-full h-64 object-cover"}),e.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75",children:"×"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-6",children:s.title}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[e.jsx(t,{icon:e.jsx(b,{}),label:"Organizador",children:s.organizer}),e.jsx(t,{icon:e.jsx(m,{}),label:"Fecha",children:new Date(s.startDate).toLocaleString("es-ES",{dateStyle:"long",timeStyle:"short"})}),e.jsxs(t,{icon:e.jsx(v,{}),label:"Duración",children:[s.duration," minutos"]}),e.jsx(t,{icon:e.jsx(h,{}),label:"Tipo",children:s.type}),s.type==="Virtual"&&e.jsx(t,{icon:e.jsx(N,{}),label:"URL",children:e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-accent-primary hover:underline",children:s.url})}),e.jsx(t,{icon:e.jsx(y,{}),label:"Audiencia",children:s.audience||"General"}),e.jsx(t,{icon:e.jsx(f,{}),label:"Ponentes",children:s.speakers?.join(", ")||"N/A"}),e.jsx(t,{icon:e.jsx(C,{}),label:"Costo",children:s.isFree?"Gratis":`${s.cost}`}),e.jsx(t,{icon:e.jsx(w,{}),label:"Contacto",children:s.phoneNumber||"N/A"})]})]})]})})},F=({conference:s,onSelect:a})=>{const l=s.cover?`${p}/covers/${s.cover._id}`:"https://via.placeholder.com/400x200";return e.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-lg overflow-hidden border border-border-color transform hover:-translate-y-1 transition-transform duration-300",children:[e.jsx("img",{src:l,alt:s.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6 flex flex-col",children:[e.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2 flex-grow h-14",children:s.title}),e.jsxs("div",{className:"text-text-secondary space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(m,{className:"mr-2 text-accent-primary"})," ",new Date(s.startDate).toLocaleDateString("es-ES")]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(h,{className:"mr-2 text-accent-primary"})," ",s.type]})]}),e.jsx("button",{onClick:()=>a(s),className:"w-full bg-accent-primary text-white py-2 rounded-md hover:bg-blue-700 transition-colors mt-auto",children:"Ver más"})]})]})},E=()=>{const[s,a]=i.useState([]),[l,t]=i.useState(!0),[r,c]=i.useState(null),[o,d]=i.useState(null);return i.useEffect(()=>{(async()=>{try{t(!0);const j=(await S.getConferences()).filter(u=>u.isApproved);a(j)}catch(x){c("No se pudieron cargar los eventos."),console.error(x)}finally{t(!1)}})()},[]),l?e.jsx("div",{className:"pt-20 flex justify-center items-center min-h-screen",children:e.jsx(g,{})}):r?e.jsx("div",{className:"pt-20 text-center text-red-500",children:e.jsx("p",{children:r})}):e.jsx("div",{className:"mt-20 md:mt-28 p-8 min-h-screen bg-bg-primary text-text-primary",children:e.jsxs("div",{className:"max-w-[1024px] mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 text-center",children:"Congresos y Eventos"}),e.jsx("p",{className:"text-lg text-text-secondary text-center mb-12",children:"Descubre los próximos congresos, seminarios y talleres educativos."}),s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(n=>e.jsx(F,{conference:n,onSelect:d},n._id))}):e.jsx("p",{className:"text-center text-text-secondary",children:"No hay eventos disponibles en este momento."}),o&&e.jsx(k,{conference:o,onClose:()=>d(null)})]})})};export{E as default};
