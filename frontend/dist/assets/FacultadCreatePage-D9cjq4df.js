import{u as b,a as f,r as h,j as e,L as g,y as r}from"./index-CDtZe3id.js";import{f as j}from"./facultadService-BYypkmnv.js";import{C as d}from"./CustomButton-BHk0TsfB.js";import{u as y}from"./index.esm-CYe7NKTW.js";import{o as N,c as v,a as n}from"./index.esm-DVNFl3iM.js";const w=v().shape({name:n().required("El nombre de la facultad es requerido"),description:n().nullable()}),A=()=>{const t=b(),{hasRole:m}=f(),[a,s]=h.useState(!1),{register:l,handleSubmit:x,formState:{errors:c}}=y({resolver:N(w)}),o=m(["admin"]),u=async p=>{if(!o){r.error("No tienes permiso para crear facultades.");return}try{s(!0),await j.createFacultad(p),r.success("Facultad creada exitosamente."),t("/admin/facultades")}catch(i){console.error("Error creating facultad:",i),r.error(i.response?.data?.message||"Error al crear la facultad.")}finally{s(!1)}};return o?e.jsx("div",{className:"mt-28 p-8 min-h-[calc(100vh-80px)] bg-bg-primary text-text-primary",children:e.jsxs("div",{className:"max-w-[1024px] mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center w-full",children:"Crear Nueva Facultad"}),e.jsx("div",{className:"bg-bg-secondary p-8 rounded-lg shadow-lg w-full max-w-md mx-auto border border-border-color",children:e.jsxs("form",{onSubmit:x(u),className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-text-primary text-sm font-bold mb-2",htmlFor:"name",children:"Nombre de la Facultad:"}),e.jsx("input",{type:"text",id:"name",...l("name"),className:"w-full px-3 py-2 border rounded-md bg-input-bg text-text-primary border-input-border"}),c.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-text-primary text-sm font-bold mb-2",htmlFor:"description",children:"DescripciÃ³n (opcional):"}),e.jsx("textarea",{id:"description",...l("description"),className:"w-full px-3 py-2 border rounded-md bg-input-bg text-text-primary border-input-border",rows:"7"})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsx(d,{variant:"secondary",className:"cursor-pointer",onClick:()=>t("/admin/facultades"),disabled:a,children:"Cancelar"}),e.jsx(d,{variant:"primary",className:"cursor-pointer",type:"submit",disabled:a,children:a?e.jsx(g,{}):"Crear Facultad"})]})]})})]})}):e.jsxs("div",{className:"pt-20 flex flex-col items-center justify-center min-h-[calc(100vh-80px)] bg-bg-primary text-text-primary",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:"Acceso Denegado"}),e.jsx("p",{className:"text-lg",children:"No tienes permiso para crear facultades."})]})};export{A as default};
