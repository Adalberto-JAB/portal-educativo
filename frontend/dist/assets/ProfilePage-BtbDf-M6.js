import{a as f,u as h,r as s,j as e,L as u,y as b}from"./index-CDtZe3id.js";import{u as g}from"./userService-BeE_nVnS.js";import{C as m}from"./CustomButton-BHk0TsfB.js";const P=()=>{const{user:t,isAuthenticated:a,loading:l}=f(),o=h(),[r,x]=s.useState(null),[p,i]=s.useState(!0),[n,d]=s.useState(null);return s.useEffect(()=>{l||(async()=>{if(!a||!t?.id){i(!1);return}try{i(!0);const c=await g.getUserById(t.id);x(c),d(null)}catch(c){console.error("Error fetching profile:",c),d("No se pudo cargar la información del perfil."),b.error("Error al cargar el perfil.")}finally{i(!1)}})()},[a,t,l]),l||p?e.jsxs("div",{className:"pt-20 flex flex-col items-center justify-center min-h-[calc(100vh-80px)] bg-bg-primary text-text-primary",children:[e.jsx(u,{}),e.jsx("p",{className:"mt-4",children:"Cargando perfil..."})]}):n?e.jsxs("div",{className:"pt-20 p-8 min-h-[calc(100vh-80px)] bg-bg-primary text-text-primary text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:"Error"}),e.jsx("p",{className:"text-lg",children:n})]}):!a||!r?e.jsxs("div",{className:"pt-20 p-8 min-h-[calc(100vh-80px)] bg-bg-primary text-text-primary text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Acceso Denegado"}),e.jsx("p",{className:"text-lg",children:"Por favor, inicia sesión para ver tu perfil."})]}):e.jsx("div",{className:"mt-20 md:mt-28 p-8 min-h-[calc(100vh-80px)] bg-bg-primary text-text-primary",children:e.jsxs("div",{className:"max-w-[1024px] mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-9 text-center",children:"Mi Perfil"}),e.jsx("div",{className:"bg-bg-secondary p-8 rounded-lg shadow-lg w-full max-w-2xl mx-auto border border-border-color",children:e.jsxs("div",{children:[r.profilePictureURL?e.jsx("img",{src:r.profilePictureURL,alt:"Profile",className:"w-32 h-32 rounded-full mx-auto mb-4 object-cover border-4 border-accent-primary"}):e.jsx("div",{className:"w-32 h-32 rounded-full mx-auto mb-4 bg-gray-700 flex items-center justify-center text-text-primary text-5xl font-bold",children:r.name?r.name.charAt(0).toUpperCase():""}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[r.name," ",r.last_name]}),e.jsx("p",{className:"text-text-secondary",children:r.email})]}),e.jsxs("div",{className:"border-t border-border-color pt-4",children:[e.jsxs("p",{className:"text-lg mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Rol:"})," ",r.role]}),e.jsxs("p",{className:"text-lg mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Dirección:"})," ",r.address||"No especificada"]}),e.jsxs("p",{className:"text-lg mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Teléfono:"})," ",r.phoneNumber||"No especificado"]})]}),e.jsxs("div",{className:"flex justify-end mt-6 gap-4",children:[e.jsx(m,{variant:"secondary",type:"button",className:"cursor-pointer",onClick:()=>o("/profile/change-password"),children:"Cambiar Contraseña"}),e.jsx(m,{variant:"primary",type:"button",className:"cursor-pointer",onClick:()=>o("/profile/edit"),children:"Editar Perfil"})]})]})})]})})};export{P as default};
